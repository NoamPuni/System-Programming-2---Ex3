# System-Programming-2---Ex3
 שלב 1: תכנון כללי של מבנה התוכנית
מטרות:
להגדיר את המחלקות העיקריות.

להבין מי יורש ממי.

להחליט על השיטות הווירטואליות.

מבנה עיקרי:
Player: מחלקת בסיס אבסטרקטית.

Role Classes: מחלקות כמו Governor, Spy, Baron וכו' – יורשות מ־Player.

Game: מחלקה מרכזית שמנהלת את מצב המשחק (מי בתור, מי פעיל, הקופה, סיום המשחק).

GUI: מחלקה נפרדת (או קובץ), שמציגה את המידע ומאפשרת שליטה בתור השחקנים.

✅ שלב 2: מימוש מחלקת הבסיס Player
אחריות:
לאחסן שם, מספר מטבעות, תור, ומצב "מסונדק".

להכיל מתודות לפעולות בסיסיות כמו gather, tax, bribe, coup, וכו'.

להגדיר פעולות וירטואליות/טהורות שאפשר לאכוף מחדש לפי תפקיד.

פעולות נדרשות:
מימוש gather ו־tax כברירת מחדל.

פעולות כמו onSanctionedBy(...) או onArrested(...) יהיו מתודות שניתן לאכוף מחדש בתפקידים מיוחדים.

שיטות עזר כמו addCoins, setTurn, sanction, isSanctioned.

✅ שלב 3: מימוש התפקידים (מחלקות יורשות)
כל תפקיד יממש את ההתנהגויות הייחודיות לו:
Governor: ידרוס את tax כך שתקבל 3 מטבעות. יממש גם canBlockTax() או blockTaxOf(...).

Spy: יוסיף מתודה spyOn(Player&), וישפיע על arrest דרך דגל חוסם.

Baron: יממש פעולה של "השקעה", ויגיב לפעולה של sanction על ידי קבלת פיצוי.

General: יוכל לחסום הפיכות ולקבל חזרה מטבעות ממעצרים.

Judge: יוכל לחסום bribe ולגרום למשתמש להפסיד 4 מטבעות.

Merchant: יקבל אוטומטית מטבע אם מתחיל תור עם 3+. יגיב שונה ל־arrest.

דגש:
כל פעולה מיוחדת היא בעצם אכיפה מחדש של פעולה קיימת (override).

אפשר להוסיף פעולות נוספות שרק חלק מהתפקידים יוכלו לממש (ולאחרים תהיה ברירת מחדל ריקה).

✅ שלב 4: מימוש מחלקת Game
אחריות:
ניהול רשימת שחקנים, מצב המשחק, תור, קופה.

ניהול הפונקציות:

turn() – החזרת שם השחקן הנוכחי.

players() – החזרת שמות השחקנים הפעילים.

winner() – החזרת שם המנצח (אם נותר אחד).

nextTurn() – מעביר את התור לשחקן הבא.

טיפול במצבים מיוחדים:
אם לשחקן יש 10 מטבעות בתחילת תורו – מחייב אותו לבצע coup.

חסימות של פעולות כמו tax, bribe, coup וכו' – יתבצעו בין תורות ע"י בדיקה מי יכול לחסום את הפעולה הנוכחית (ע"י בדיקה של השחקנים האחרים בתורם).

✅ שלב 5: ממשק משתמש גרפי (GUI)
מטרה:
לאפשר הדגמה של המשחק בסביבת GUI בסיסית (Qt / SFML או טקסטואלית פשוטה).

דרישות:
הצגת רשימת שחקנים ומצבם (שם, תפקיד, מטבעות).

תפריט לפי תור (מה השחקן יכול לעשות כעת).

לחצנים/קלטים להפעלת פעולות בהתאם לתור.

✅ שלב 6: בדיקות וולידציה
שימוש ב־doctest:
לכל מחלקה (Player, Game, תפקידים) נדרשות בדיקות:

פעולות חוקיות ולא חוקיות (למשל: איסוף בזמן חרם).

כל תפקיד ייבדק על המקרים המיוחדים לו.

טיפול בזכיות, תורות, הפיכות, וכו'.

✅ שלב 7: ניהול זיכרון ו־valgrind
לבדוק שהשימוש ב־pointers (אם יש) נעשה בזהירות.

לבדוק שאין זליגות בזיכרון.

להריץ את הקוד עם valgrind ולוודא שאין דו"חות של זליגות.

✅ שלב 8: ארגון התיקייה ו־Makefile
קבצים:
Player.hpp / .cpp

Game.hpp / .cpp

Governor.hpp / .cpp (וכו' לתפקידים)

Main.cpp

Demo.cpp

Tests.cpp

Makefile

README.md

מטרות ב־Makefile:
make Main – מריץ הדגמה.

make test – מריץ בדיקות.

make valgrind – מריץ תחת valgrind.

make clean – מוחק קבצים זמניים.

✅ שלב 9: קובץ README
הסבר קצר על מטרת הפרויקט.

תיאור המחלקות העיקריות.

הסבר איך להריץ את המשחק, הבדיקות וה־GUI.

קישור ל־GitHub אם נדרש.

